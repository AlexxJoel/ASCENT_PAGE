---
import Layout from "../layouts/Layout.astro";

const slides = [
    {id: 1, image: "https://via.placeholder.com/800x400?text=Slide+1", alt: "Slide 1"},
    {id: 2, image: "https://via.placeholder.com/800x400?text=Slide+2", alt: "Slide 2"},
    {id: 3, image: "https://via.placeholder.com/800x400?text=Slide+3", alt: "Slide 3"},
];

const section3Img = "https://via.placeholder.com/800x400";


const services = [
    {
        title: "Consultoría",
        description: "Ofrecemos servicios de consultoría en tecnología de la información y desarrollo de software."
    },
    {title: "Creación de circuitos", description: "Diseñamos y creamos circuitos electrónicos para tus proyectos."},
    {title: "Soporte técnico", description: "Brindamos soporte técnico para tus sistemas y aplicaciones."}
];

---

<Layout title="Inicio">
    <section class="bg-gray-200 text-dark">
        <div class="mx-auto max-w-screen-xl px-4 py-32 lg:flex lg:h-[calc(100vh-4rem)] lg:items-center lg:justify-center">
            <div class="mx-auto max-w-3xl text-center">
                <h1
                        class="bg-gradient-to-r from-zinc-700 to-black bg-clip-text text-transparent text-3xl font-extrabold sm:text-5xl"
                >
                    El mejor servicio al alcance de tu mano.
                    <span class="sm:block"> ¡Descúbrelo ahora!</span>
                </h1>

                <p class="mx-auto mt-4 max-w-xl sm:text-xl/relaxed">
                    Ascent es una empresa de servicios de consultoría en tecnología de la información y desarrollo de
                    software.
                </p>

                <div class="mt-8 flex flex-wrap justify-center gap-4">
                    <a class="block w-full rounded border text-white bg-black px-12 py-3 text-sm font-medium hover:bg-transparent hover:text-black hover:border-black focus:outline-none focus:ring active:text-opacity-75 sm:w-auto"
                       href="#">
                        Conocer nuestros servicios
                    </a>
                    <a class="block w-full rounded border border-black bg-transparent px-12 py-3 text-sm font-medium text-black hover:bg-zinc-950 hover:text-white focus:outline-none focus:ring active:bg-blue-500 sm:w-auto"
                       href="#">
                        Contáctanos
                    </a>
                </div>

            </div>
        </div>
    </section>

    <section class="my-6 mt-24">
        <div class="relative w-full max-w-4xl mx-auto overflow-hidden">
            <!-- Slides -->
            <div
                    class="flex transition-transform duration-500"
                    id="carousel"
                    style="transform: translateX(0);"
            >
                {slides.map((slide) => (
                        <div class="w-full flex-shrink-0">
                            <img src={slide.image} alt={slide.alt} class="w-full"/>
                        </div>
                ))}
            </div>

            <!-- Navigation Buttons -->
            <button
                    class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-gray-800 text-white p-2 rounded-full hover:bg-gray-700"
                    id="prevButton"
            >
                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                     width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="m15 19-7-7 7-7"/>
                </svg>
            </button>
            <button
                    class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-gray-800 text-white p-2 rounded-full hover:bg-gray-700"
                    id="nextButton"
            >
                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                     width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="m9 5 7 7-7 7"/>
                </svg>
            </button>

            <!-- Indicators -->
            <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2">
                {slides.map((_, index) => (
                        <button
                                class={`w-3 h-3 rounded-full ${
                                    index === 0 ? "bg-gray-800" : "bg-gray-300"
                                }`}
                                data-slide={index}
                        ></button>
                ))}
            </div>
        </div>

    </section>


    <section class="mt-24">
        <div class="max-w-screen p-10 bg-gray-200">
            <div class="grid grid-cols-1 gap-4 md:grid-cols-2 md:items-center md:gap-8 py-20">
                <div>
                    <div class="max-w-lg md:max-w-none">
                        <h2 class="text-xl font-semibold text-gray-900 sm:text-5xl">
                            Experiencia en diversos proyectos
                        </h2>

                        <p class="mt-8 text-gray-700">
                            Cada proyecto a realizar se toma com gran reponsabilidad, entusisasmo y buena organización
                        </p>
                    </div>
                </div>

                <div>
                    <img src={section3Img} alt={section3Img}/>
                </div>
            </div>
        </div>
    </section>


    <section class="py-10">
        <div class="max-w-screen-xl mx-auto px-4 py-10">
            <h2 class="text-3xl font-semibold text-gray-900 sm:text-5xl">
                Nuestros servicios
            </h2>
            <p class="mt-8 text-gray-700">
                Ofrecemos una amplia gama de servicios de consultoría en tecnología de la información y desarrollo de
                software.
            </p>
        </div>

        <div class="grid grid-cols-1 gap-4 md:grid-cols-3 px-20 md:gap-8 ">

            {services.map((service) => (
                    <div class="bg-gray-100 p-8 rounded-lg">
                        <h3 class="text-xl font-semibold text-gray-900">
                            {service.title}
                        </h3>
                        <p class="mt-4 text-gray-700">
                            {service.description}
                        </p>
                    </div>
            ))}
        </div>
        <!--   See more -->
       <div class="flex justify-center mt-8">
           <a
                   class="inline-flex items-center gap-2 rounded border border-zinc-600 bg-zinc-600 px-8 py-3 text-white hover:bg-transparent hover:text-zinc-600 focus:outline-none focus:ring active:text-zinc-500"
                   href="#"
           >
               <span class="text-sm font-medium"> Ver más </span>

               <svg
                       class="size-5 rtl:rotate-180"
                       xmlns="http://www.w3.org/2000/svg"
                       fill="none"
                       viewBox="0 0 24 24"
                       stroke="currentColor"
               >
                   <path
                           stroke-linecap="round"
                           stroke-linejoin="round"
                           stroke-width="2"
                           d="M17 8l4 4m0 0l-4 4m4-4H3"
                   />
               </svg>
           </a>
       </div>

    </section>
</Layout>

<script>
    let currentIndex = 0;
    const slides = Array.from(document.querySelectorAll("#carousel > div"));
    const indicators = Array.from(document.querySelectorAll("[data-slide]"));

    const updateCarousel = () => {
        const carousel = document.getElementById("carousel");
        if (!carousel) return;
        carousel.style.transform = `translateX(-${currentIndex * 100}%)`;

        indicators.forEach((indicator, index) => {
            indicator.classList.toggle("bg-gray-800", index === currentIndex);
            indicator.classList.toggle("bg-gray-300", index !== currentIndex);
        });
    };

    const nextSlide = () => {
        currentIndex = (currentIndex + 1) % slides.length;
        updateCarousel();
    };

    const prevSlide = () => {
        currentIndex = (currentIndex - 1 + slides.length) % slides.length;
        updateCarousel();
    };

    document.getElementById("prevButton")?.addEventListener("click", prevSlide);
    document.getElementById("nextButton")?.addEventListener("click", nextSlide);

    // Auto-play functionality
    setInterval(() => {
        nextSlide();
    }, 5000);

    // Indicator click functionality
    indicators.forEach((indicator) => {
        indicator.addEventListener("click", () => {
            currentIndex = parseInt(indicator.getAttribute("data-slide") ?? "0", 10);
            updateCarousel();
        });
    });
</script>
